<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Minesweeper</title>

    <script src="libraries/jquery-3.6.0.js"></script>
    <script src="libraries/jquery-ui.js"></script>
    <script src="libraries/darkreader.js"></script>
    <link href="libraries/jquery-ui.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script> -->

    <link href="css/style.css" rel="stylesheet" />
    <link href="css/chat.css" rel="stylesheet" />
    <link href="css/minesweeper.css" rel="stylesheet" />
    <script src="src/socket.js"></script>
    <script src="src/client.js"></script>
    <script src="src/main.js"></script>
    <script src="src/chat.js"></script>
    <script>
        // document.onreadystatechange = function () {
        //     if (document.readyState !== "complete") {
        //         // document.querySelector(".site").style.display = "none";
        //         document.querySelector("#loader").style.display = "block";
        //     } else {
        //         document.querySelector("#loader").style.display = "none";
        //         // document.querySelector(".site").style.display = "block";
        //     }
        // };

        $(function () {
            if (localStorage.getItem("theme") === "DARK") {
                $(".site").addClass("dark-mode");
                DarkReader.setFetchMethod(window.fetch)
                DarkReader.enable();
            }
            //     $("#header").load("header.html");
            //     $("#footer").load("footer.html");
            //     //window.scrollTo(0, 0); //TODO: doesn't work

        });
    </script>
</head>

<body>
    <header ondragstart="return false;" ondrop="return false;">
        <div class="top-nav">
            <a href="/home"><img src="res/logo.png" class="logo" /></a>
            <div class="top-nav-left">
                <a href="/profile">Profile</a>
                <a href="/settings">Settings</a>
            </div>
            <div class="top-nav-right">
                <a href="/login">Login</a>
                <a href="/register">Register</a>
            </div>
        </div>
    </header>
    <!-- <div id="loader" class="center"></div> -->
    <div class="site">
        <div id="options" style="justify-content: center ;">
            <a class="difficulty-select" value="BEGINNER" href="javascript:void(0)"><span>Beginner (9 x 9) 10
                    Mines&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></a>
            <a class="difficulty-select" value="INTERMEDIATE" href="javascript:void(0)"><span>Intermediate (16 x 16)
                    40 Mines&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></a>
            <a class="difficulty-select" value="EXPERT" href="javascript:void(0)"><span>Expert (16 x 30) 99
                    Mines&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></a>
            <a id="custom" href="javascript:void(0)"
                style="color: #337ab7; text-decoration: none;">Custom&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
            <input type="number" class="custom-select" value="20" id="custom_height" autocomplete="off"> &nbsp;&nbsp;
            <input type="number" class="custom-select" value="30" id="custom_width" autocomplete="off">&nbsp;&nbsp;
            <input type="number" class="custom-select" value="145" id="custom_mines" autocomplete="off">
        </div>
        <div id="game-container" class="z200" oncontextmenu="return false;">
            <!-- <br>
            <span class="flag"></span> -->
            <!-- <br> -->
            <div id="game">
            </div>
            <div id="result-block">
                <b>Game Results</b>
                <div><span id="player-name"></span></div>
                <div>Result: <b id="result"></b></div>
                <div>Time: <b id="time"></b>s</div>
                <div><span id="spectator-name"></span></div>
                <!-- <div>Lorem ipsum: fsfsf</div>
                <div>blh blah: fas</div> -->
            </div>
        </div>

        <div id="chat">
            <div id="chat-bar">Chat</div>
            <div id="chat-body">
                <div id="chat-rooms">
                </div>
                <br>
                <p id="chatText"></p>
                <br>
                <input id="chatInput" type="text" placeholder="Type message here..." maxlength="50">
                <br>
                <br>
                <div id="roomSelector">
                    Room:
                    <input id="roomInput" type="text">
                    <button id="roomButton" type="button">Join</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>