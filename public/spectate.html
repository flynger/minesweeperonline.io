<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>Minesweeper</title>

    <script src="libraries/jquery-3.6.0.js"></script>
    <script src="libraries/jquery-ui.js"></script>
    <link href="libraries/jquery-ui.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    <script src="libraries/darkreader.js"></script>

    <script>
        document.onreadystatechange = function () {
            if (document.readyState !== "complete") {
                document.querySelector("#site").style.display = "none";
                document.querySelector("#loader").style.visibility = "visible";
            } else {
                document.querySelector("#loader").style.display = "none";
                document.querySelector("#site").style.display = "block";
            }
        };
        $(function () {
            $("#header").load("header.html");
            $("#footer").load("footer.html");
            //window.scrollTo(0, 0); //TODO: doesn't work
            if (localStorage.getItem("theme") === "DARK") {
                $(".site").addClass("dark-mode");
                DarkReader.setFetchMethod(window.fetch);
                DarkReader.enable();
            }
        });
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js"></script>

    <link href="css/style.css" rel="stylesheet" />
    <link href="css/minesweeper.min.css" rel="stylesheet" />
    <script src="src/socket.js"></script>
    <script src="src/client.js"></script>
    <script src="src/chat.js"></script>
</head>

<body>
    <header id="header"></header>
    <div id="loader" class="center"></div>
    <div class="site">
        <div id="game-container" class="z200" oncontextmenu="return false;">
            <!-- <br>
            <span class="flag"></span> -->
            <!-- <br> -->
            <div id="game">
            </div>
            <div id="result-block">
                Game results
                <div>Player: <b>3.990</b>s</div>
                <div>Time: <b>3.990</b>s</div>
                <div>Lorem ipsum: fsfsf</div>
                <div>blh blah: fas</div>
            </div>
        </div>

        <div id="chat">
            <div id="chat-bar">Chat</div>
            <div id="chat-body">
                <div id="chat-rooms">
                    <!-- <div id="selectGlobal" name="room">Global</div>
                    <div id="selectRoom" name="room">Room</div>
                    <div id="chatRoomPadding"></div> -->
                </div>
                <br>
                <p id="chatText"></p>
                <br>
                <input id="chatInput" type="text" placeholder="Type message here..." maxlength="50">
                <br>
                <br>
                <div id="roomSelector">
                    Room:
                    <input id="roomInput" type="text">
                    <button id="roomButton" type="button">Join</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>